<!doctype html>
<html lang="en">
<head>
  <script>
  (function() {
    try {
      const params = new URLSearchParams(location.search);
      const q = params.get('theme'); // ?theme=dark
      const saved = localStorage.getItem('darkMode');
      const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
      const useDark = q === 'dark' || (q === null && saved === 'true') || (q === null && saved === null && prefersDark);
      if (useDark) document.documentElement.classList.add('dark');
      else document.documentElement.classList.remove('dark');
    } catch (e) {}
  })();
  </script>

  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <app-root></app-root>
</body>
</html>
